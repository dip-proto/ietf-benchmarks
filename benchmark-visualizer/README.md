# Benchmark Visualizer

A Python tool for visualizing cryptographic algorithm benchmark results from the IETF benchmarking suite.

## Overview

This tool processes CSV benchmark outputs from various authenticated encryption algorithms (AEGIS, AES-GCM, HiAE, ROCCA-S) and generates comparative performance visualizations.

## Features

- **Bar charts comparing throughput**: Shows encryption vs decryption performance in Gbps for 65536-byte messages
- **Bar charts comparing efficiency**: Shows cycles per byte (lower is better) for encryption vs decryption
- **Line plots for various message sizes**: Tracks performance trends from 64 bytes to 65KB
- **Automatic CSV parsing**: Handles both CSV and table-formatted benchmark outputs
- **Performance summary table**: Displays key metrics in the terminal

## Installation

```bash
# Using pip
pip install pandas matplotlib numpy

# Using uv (if available)
uv sync
```

## Usage

```bash
python plot_performance.py <csv_directory>

# Example:
python plot_performance.py ../csvs
```

The script expects a directory containing CSV files generated by the benchmark tools. Each CSV file should follow the naming convention: `<algorithm-name>.csv`

## Input Format

The tool parses benchmark CSV files that contain:
- Size (bytes)
- Operation (encrypt/decrypt)
- Performance metrics (Gbps, MB/s, Cycles/Byte, CV%)

It supports two formats:
1. **CSV format**: Used by AEGIS implementations
2. **Table format**: Used by ROCCA-S, HiAE, and AES-GCM (pipe-delimited tables)

## Output

The tool generates PNG images saved in the parent directory of the CSV folder:

1. `throughput_comparison_<dirname>.png` - Bar chart comparing encryption/decryption throughput at 65KB
2. `efficiency_comparison_<dirname>.png` - Bar chart comparing cycles per byte at 65KB
3. `encryption_throughput_<dirname>.png` - Line plot showing encryption performance across sizes
4. `decryption_throughput_<dirname>.png` - Line plot showing decryption performance across sizes
5. `encryption_efficiency_<dirname>.png` - Line plot showing encryption cycles/byte across sizes
6. `decryption_efficiency_<dirname>.png` - Line plot showing decryption cycles/byte across sizes

## Example Output

```
Generating 65536-byte performance comparison...
Throughput comparison saved to: throughput_comparison_csvs.png
Efficiency comparison saved to: efficiency_comparison_csvs.png

Performance Summary (65536 bytes):
======================================================================
Algorithm            Encrypt (Gbps)  Decrypt (Gbps)  Encrypt (c/b)  Decrypt (c/b)  
----------------------------------------------------------------------
aegis-128x2-aesni    100.50          98.20           0.380           0.389          
aes128-gcm-openssl   45.30           44.80           0.844           0.853          
...
```

## How It Works

1. **CSV Parsing**: The `parse_csv_file()` function reads benchmark outputs and identifies the "Encryption Only Performance" section
2. **Data Aggregation**: Multiple CSV files are parsed and combined into a pandas DataFrame
3. **Visualization**: Uses matplotlib to create professional bar and line charts
4. **Performance Metrics**: Focuses on two key metrics:
   - Throughput (Gbps) - higher is better
   - Cycles per byte - lower is better

## Dependencies

- pandas >= 2.0.0 - Data manipulation and analysis
- matplotlib >= 3.7.0 - Plotting and visualization
- numpy >= 1.24.0 - Numerical operations

## Notes

- The tool automatically handles different CSV formats produced by various benchmark implementations
- All plots use consistent colors and styling for easy comparison
- Performance data is extracted specifically from the "Encryption Only Performance" section to ensure fair comparisons
- Message sizes are displayed on a log scale (base 2) for better readability